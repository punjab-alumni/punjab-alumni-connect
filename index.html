<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Punjab Alumni Connect</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet" />
  <style>
    body, html {
      margin: 0;
      padding: 0;
      min-height: 100vh;
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #101927, #18345a 70%);
      color: #eaf6ff;
      overflow-y: auto; /* Enable vertical scrolling */
      position: relative;
      display: flex;
      flex-direction: column;
    }
    #particle-canvas {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      z-index: 0;
      pointer-events: none;
      opacity: 0.08;
    }
    header {
      display: flex;
      align-items: center;
      padding: 10px 30px;
      background-color: #101927cc;
      box-shadow: 0 4px 16px rgba(0,0,0,0.7);
      position: sticky;
      top: 0;
      z-index: 999;
      backdrop-filter: saturate(180%) blur(13px);
    }
    nav {
      flex-grow: 1;
    }
    .nav-list {
      list-style: none;
      display: flex;
      gap: 20px;
      margin: 0;
      padding: 0;
      font-weight: 700;
      font-size: 1rem;
      align-items: center;
      color: white;
    }
    .nav-list a,
    .nav-list button {
      color: #3BB4FF;
      text-decoration: none;
      padding: 0.6rem 1.2rem;
      border-radius: 8px;
      cursor: pointer;
      border: 2px solid transparent;
      background: transparent;
      transition: all 0.2s ease;
    }
    .nav-list a.active,
    .nav-list a:hover,
    .nav-list button:hover {
      background: #3BB4FF;
      color: white;
      border: 2px solid #3BB4FF;
      box-shadow: 0 6px 12px rgba(59, 180, 255, 0.7);
    }
    main.container {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: stretch;
      min-height: 600px;
      padding: 60px 50px 70px;
      max-width: 1350px;
      margin: 0 auto;
      z-index: 1;
      position: relative;
      overflow: visible;
      gap: 48px;
      box-sizing: border-box;
    }
    .homepage-left {
      flex: 1 1 47%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      padding-right: 38px;
      min-width: 320px;
      max-width: 520px;
    }
    .homepage-left h1 {
      font-size: 3.2rem;
      font-weight: 900;
      color: white;
      text-shadow:
        0 0 10px #fff8,
        0 0 20px #3bb4ff44;
      margin-bottom: 18px;
      line-height: 1.12;
    }
    .homepage-left p {
      font-size: 1.28rem;
      color: #dceeffcc;
      margin-bottom: 42px;
      line-height: 1.54;
    }
    .btn-get-started {
      background: linear-gradient(90deg, #ffffff, #2493ff 90%);
      color: #101827;
      font-weight: 900;
      padding: 20px 58px;
      font-size: 1.32rem;
      border-radius: 38px;
      border: none;
      cursor: pointer;
      box-shadow: 0 0 8px #fff7, 0 0 16px #2493ff55;
      transition: background 0.3s ease, box-shadow 0.3s ease, letter-spacing 0.18s;
      width: fit-content;
      user-select: none;
      outline-offset: 4px;
      text-shadow: 0 0 2px #296ddbc0;
    }
    .btn-get-started:hover {
      background: linear-gradient(90deg, #d5e5fb, #165ea8);
      box-shadow: 0 0 20px #2493ff99, 0 0 32px #d5e5fb55;
      letter-spacing: 0.02em;
    }
    .homepage-right {
      flex: 1 1 50%;
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      grid-template-rows: repeat(2, 1fr);
      gap: 32px;
      min-width: 360px;
      max-width: 700px;
      align-items: stretch;
      justify-items: stretch;
    }
    .feature-card {
      background: linear-gradient(135deg, #1b2a55, #162048);
      border-radius: 24px;
      box-shadow: 0 8px 20px rgba(11, 44, 89, 0.18), inset 0 0 8px #3bb4ff22;
      padding: 32px 28px;
      color: white;
      cursor: pointer;
      border: 2px solid transparent;
      transition: all 0.28s ease;
      display: flex;
      flex-direction: column;
      justify-content: center;
      position: relative;
      user-select: none;
    }
    .feature-card h3 {
      margin-bottom: 13px;
      font-size: 1.3rem;
      font-weight: 700;
      color: #eaf6ff;
      text-shadow: 0 0 4px #3BB4FF99;
    }
    .feature-card p {
      font-size: 1.05rem;
      line-height: 1.5;
      color: #c7d9ffcc;
      user-select: text;
      opacity: 0.97;
    }
    .feature-card:hover, .feature-card:focus {
      box-shadow: 0 12px 40px #3bb4ff77, inset 0 0 30px #fff8;
      border: 2px solid #fafafa;
      outline: none;
      transform: scale(1.035);
      z-index: 3;
    }
    .stats-bar {
      margin-top: 35px;
      display: flex;
      justify-content: flex-start;
      gap: 48px;
      font-weight: 700;
      font-size: 1.13rem;
      color: #d4e6ffcc;
      user-select: none;
    }
    .stats-bar strong {
      color: #fff;
      font-size: 1.21rem;
      text-shadow: 0 0 8px #fff8;
    }
    @media (max-width: 1100px) {
      main.container {
        flex-direction: column;
        padding: 30px 12px;
        min-height: auto;
        gap: 24px;
      }
      .homepage-left, .homepage-right {
        max-width: 100%;
      }
      .homepage-right {
        display: flex;
        flex-wrap: wrap;
        gap: 18px;
        min-width: 0;
        max-width: 100vw;
        justify-content: center;
      }
      .feature-card {
        width: 90%;
        max-width: 350px;
        min-width: 220px;
      }
    }
    /* --- Floating Help Chat Tab --- */
    #help-tab {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #2493ff;
      color: #101827;
      padding: 12px 20px;
      border-radius: 30px 30px 30px 0;
      box-shadow: 0 3px 10px rgba(0,0,0,0.2);
      cursor: pointer;
      font-weight: 700;
      font-family: Arial, sans-serif;
      z-index: 10000;
      display: flex;
      align-items: center;
      gap: 10px;
      user-select: none;
    }
    #help-tab svg {
      fill: #101827;
      width: 24px;
      height: 24px;
      flex-shrink: 0;
    }
    /* --- Help Chatbox --- */
    #help-chatbox {
      display: none;
      position: fixed;
      bottom: 70px;
      right: 20px;
      width: 320px;
      max-height: 420px;
      background: #121F33;
      border-radius: 12px;
      box-shadow: 0 0 15px rgba(36,147,255,0.4);
      font-family: Arial, sans-serif;
      color: #eaf6ff;
      flex-direction: column;
      z-index: 10001;
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }
    #help-chat-header {
      background: #2493ff;
      color: #101827;
      padding: 14px 16px;
      font-weight: 700;
      font-size: 16px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      user-select: none;
    }
    #help-close {
      background: none;
      border: none;
      font-size: 22px;
      font-weight: bold;
      color: #101827;
      cursor: pointer;
      line-height: 1;
      user-select: none;
    }
    #help-chat-content {
      padding: 16px;
      flex: 1;
      overflow-y: auto;
      font-size: 14px;
    }
    #problem-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    #problem-list li {
      padding: 8px 12px;
      cursor: pointer;
      border-radius: 6px;
      margin-bottom: 8px;
      background: #2493ff33;
      user-select: none;
      transition: background 0.2s ease;
    }
    #problem-list li:hover,
    #problem-list li:focus {
      background: #3bb4ffaa;
      outline: none;
    }
    #solution-box {
      margin-top: 16px;
      background: #1f3460;
      padding: 12px;
      border-radius: 8px;
      white-space: pre-wrap;
      user-select: text;
    }
  </style>
</head>
<body>
  <canvas id="particle-canvas"></canvas>
  <header>
    <img src="logo.jpg" alt="Punjab Alumni Connect Logo" style="height: 60px; margin-right: 20px;" />
    <nav style="flex-grow: 1;">
      <ul class="nav-list">
        <li><a href="index.html" class="active">Home</a></li>
        <li><a href="dashboard.html">Dashboard</a></li>
        <li><a href="alumni.html">Alumni</a></li>
        <li><a href="events.html">Events</a></li>
        <li><a href="jobs.html">Jobs</a></li>
        <li><a href="mentorship.html">Mentorship</a></li>
        <li><a href="collaborative.html">Collaborative Spaces</a></li>
        <li><a href="donations.html">Donations</a></li>
        <li><a href="settings.html">Settings</a></li>
        <li><button id="logout-btn" style="background:none;border:none;color:#3BB4FF;cursor:pointer;font-size:1rem;">Logout</button></li>
      </ul>
    </nav>
  </header>
  <main class="container" role="main">
    <section class="homepage-left" aria-label="Welcome section">
      <h1 id="welcome-title">Welcome to Punjab Alumni Connect</h1>
      <p id="welcome-para">
        Strengthening life-long connections among alumni, students, and institutions of Punjab.<br />
        Discover opportunities, reconnect with friends, explore campus events, and much more!
      </p>
      <a href="login.html" class="btn-get-started" id="get-started" role="button">Get Started</a>
      <div class="stats-bar" aria-label="Platform statistics">
        <div><strong>100,000+</strong> Alumni</div>
        <div><strong>650+</strong> Jobs & Internships</div>
        <div><strong>325+</strong> Campus Events</div>
      </div>
    </section>
    <aside class="homepage-right" aria-label="Primary features navigation">
      <div class="feature-card" tabindex="0" data-link="alumni.html" role="link" aria-label="Connect and Network">
        <h3>Connect & Network</h3>
        <p>Find mentors, colleagues, and old friends among 100,000+ alumni. Use smart search and personalized recommendations.</p>
      </div>
      <div class="feature-card" tabindex="0" data-link="events.html" role="link" aria-label="Events and Meetups">
        <h3>Events & Meetups</h3>
        <p>Stay updated with reunions, webinars, and alumni gatherings across Punjab and worldwide. Join or create your own event easily.</p>
      </div>
      <div class="feature-card" tabindex="0" data-link="jobs.html" role="link" aria-label="Jobs and Mentorship">
        <h3>Jobs & Mentorship</h3>
        <p>Explore career openings posted by alumni, or become a mentor and help guide the next generation of leaders and innovators.</p>
      </div>
      <div class="feature-card" tabindex="0" data-link="donations.html" role="link" aria-label="Give Back">
        <h3>Give Back</h3>
        <p>Support scholarships and donate to campus initiatives. Every contribution makes a difference in someone’s academic journey.</p>
      </div>
    </aside>
  </main>
  <!-- Floating Help Tab -->
  <div id="help-tab" aria-label="Help and Support" role="button" tabindex="0" title="Need Help?">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
      <path d="M12 2A10 10 0 1022 12 10 10 0 0012 2zm0 15a2 2 0 112-2 2 2 0 01-2 2zm1-6h-2V7h2z"/>
    </svg>
    Need Help?
  </div>
  <!-- Help Chatbox -->
  <div id="help-chatbox" role="dialog" aria-modal="true" aria-labelledby="help-chat-header">
    <div id="help-chat-header">
      Help & Support
      <button id="help-close" aria-label="Close Help Chat">&times;</button>
    </div>
    <div id="help-chat-content">
      <p>What problem do you have? Choose one of these common issues:</p>
      <ul id="problem-list" tabindex="0"></ul>
      <div id="solution-box" style="display:none;"></div>
    </div>
  </div>
  <script>
    // Particle background animation using canvas
    const canvas = document.getElementById('particle-canvas');
    const ctx = canvas.getContext('2d');
    let width, height;
    let particles = [];
    const PARTICLE_COUNT = 60;
    function setSize() {
      width = window.innerWidth;
      height = window.innerHeight;
      canvas.width = width;
      canvas.height = height;
    }
    window.addEventListener('resize', setSize);
    setSize();
    class Particle {
      constructor() { this.init(); }
      init() {
        this.x = Math.random()*width;
        this.y = Math.random()*height;
        this.vx = (Math.random()-0.5)*0.7;
        this.vy = (Math.random()-0.5)*0.7;
        this.radius = Math.random()*2.1+1.1;
        this.alpha = 0.18+Math.random()*0.25;
      }
      update() {
        this.x += this.vx;
        this.y += this.vy;
        if(this.x<0||this.x>width) this.vx*=-1;
        if(this.y<0||this.y>height) this.vy*=-1;
      }
      draw() {
        ctx.beginPath();
        const gradient = ctx.createRadialGradient(this.x, this.y, 0, this.x, this.y, this.radius*4);
        gradient.addColorStop(0, `rgba(255,255,255,${this.alpha})`);
        gradient.addColorStop(1, 'rgba(255,255,255,0)');
        ctx.fillStyle = gradient;
        ctx.arc(this.x, this.y, this.radius*4, 0, Math.PI*2);
        ctx.fill();
      }
    }
    for(let i=0; i<PARTICLE_COUNT; i++) { particles.push(new Particle()); }
    function animate() {
      ctx.clearRect(0,0,width,height);
      particles.forEach(p=>{ p.update(); p.draw(); });
      requestAnimationFrame(animate);
    }
    animate();
    // Feature card clicks with login check
    document.querySelectorAll('.feature-card').forEach(card => {
      card.addEventListener('click', () => {
        if (sessionStorage.getItem('loggedInInstitution') &&
            sessionStorage.getItem('loggedInRole') &&
            sessionStorage.getItem('loggedInEmail')) {
          window.location.href = card.dataset.link;
        } else {
          alert('Please login to access this section.');
          window.location.href = 'login.html';
        }
      });
      card.addEventListener('keypress', (e) => {
        if (e.key === 'Enter' || e.key === ' ') card.click();
      });
    });
    document.getElementById('logout-btn').addEventListener('click', () => {
      sessionStorage.clear();
      window.location.href = 'login.html';
    });
    // --- Floating Help Chat Feature JS ---
    (function(){
      const problems = [
        {
          title: 'Login Issues',
          solution: 'If you are having trouble logging in, please reset your password using the "Forgot Password" link on the login page.'
        },
        {
          title: 'Navigation Help',
          solution: 'Use the top menu bar or dashboard shortcuts to quickly access different sections of the website.'
        },
        {
          title: 'Donation Process',
          solution: 'To donate, select your institution and follow the instructions on the Donations page. Contact support if you face issues.'
        },
        {
          title: 'Job Application',
          solution: 'Apply to jobs via the Jobs section. Only alumni can apply. Students and admins have restricted access.'
        },
        {
          title: 'Mentorship Requests',
          solution: 'Mentorship requests are available for students only. Alumni and admins cannot request mentorship.'
        },
      ];
      const helpTab = document.getElementById('help-tab');
      const helpChatbox = document.getElementById('help-chatbox');
      const helpClose = document.getElementById('help-close');
      const problemList = document.getElementById('problem-list');
      const solutionBox = document.getElementById('solution-box');
      // Populate the problems list
      problems.forEach((p, index) => {
        const li = document.createElement('li');
        li.textContent = p.title;
        li.tabIndex = 0;
        li.style.padding = '8px 12px';
        li.style.cursor = 'pointer';
        li.style.borderRadius = '6px';
        li.style.marginBottom = '8px';
        li.style.background = '#2493ff33';
        li.addEventListener('click', () => {
          showSolution(index);
        });
        li.addEventListener('keypress', (e) => {
          if (e.key === 'Enter') showSolution(index);
        });
        problemList.appendChild(li);
      });
      function showSolution(index) {
        solutionBox.style.display = 'block';
        solutionBox.textContent = problems[index].solution;
      }
      helpTab.addEventListener('click', () => {
        if (helpChatbox.style.display === 'flex') {
          helpChatbox.style.display = 'none';
        } else {
          helpChatbox.style.display = 'flex';
          solutionBox.style.display = 'none';
          problemList.querySelectorAll('li').forEach(li => li.style.background = '#2493ff33');
        }
      });
      helpClose.addEventListener('click', () => {
        helpChatbox.style.display = 'none';
      });
      // Accessibility: Allow opening chatbox by keyboard (Enter or Space on tab)
      helpTab.addEventListener('keypress', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          helpTab.click();
        }
      });
    })();
    // Translation dictionary
    const translations = {
      en: {
        'header-home': 'Home',
        'header-dashboard': 'Dashboard',
        'header-alumni': 'Alumni',
        'header-events': 'Events',
        'header-jobs': 'Jobs',
        'header-mentorship': 'Mentorship',
        'header-donations': 'Donations',
        'header-settings': 'Settings',
        'welcome-title': 'Welcome to Punjab Alumni Connect',
        'welcome-para': 'Strengthening life-long connections among alumni, students, and institutions of Punjab. Discover opportunities, reconnect with friends, explore campus events, and much more!',
        'get-started': 'Get Started'
      },
      pa: {
        'header-home': '[translate:ਘਰ]',
        'header-dashboard': '[translate:ਡੈਸ਼ਬੋਰਡ]',
        'header-alumni': '[translate:ਸਾਬਕਾ ਵਿਦਿਆਰਥੀ]',
        'header-events': '[translate:ਕੀਤੇ ਗਏ ਕਾਰਜ]',
        'header-jobs': '[translate:ਨੌਕਰੀਆਂ]',
        'header-mentorship': '[translate:ਪਰੇਰਨਾ]',
        'header-donations': '[translate:ਦਾਨ]',
        'header-settings': '[translate:ਸੈਟਿੰਗਜ਼]',
        'welcome-title': '[translate:ਪੰਜਾਬ ਸਾਬਕਾ ਵਿਦਿਆਰਥੀ ਕਨੈਕਟ]',
        'welcome-para': '[translate:ਸਾਬਕਾ ਵਿਦਿਆਰਥੀਆਂ, ਵਿਦਿਆਰਥੀਆਂ ਅਤੇ ਪੰਜਾਬ ਦੇ ਸੰਸਥਾਵਾਂ ਵਿਚ ਲੰਮਾ ਜੁੜਾਵ]',
        'get-started': '[translate:ਸ਼ੁਰੂ ਕਰੋ]'
      },
      hi: {
        'header-home': '[translate:मुख्य पृष्ठ]',
        'header-dashboard': '[translate:पैनल]',
        'header-alumni': '[translate:पूर्व छात्र]',
        'header-events': '[translate:कार्यक्रम]',
        'header-jobs': '[translate:स्नातक]',
        'header-mentorship': '[translate:मार्गदर्शन]',
        'header-donations': '[translate:दान]',
        'header-settings': '[translate:सेटिंग्स]',
        'welcome-title': '[translate:पंजाब पूर्व छात्र कनेक्ट]',
        'welcome-para': '[translate:अलुमनी, छात्र और पंजाब के विश्वविद्यालयों की संयुक्त समुदाय]',
        'get-started': '[translate:शुरू करें]'
      }
    };

    function applyLanguage(lang) {
      for (const key in translations[lang]) {
        const elem = document.getElementById(key);
        if (elem) {
          elem.textContent = translations[lang][key].replace(/\[translate:(.*?)\]/g, "$1");
        }
      }
    }

    const savedLang = localStorage.getItem('preferredLanguage');
    const langModal = document.createElement('div');
    window.addEventListener('DOMContentLoaded', () => {
      if (savedLang && translations[savedLang]) {
        applyLanguage(savedLang);
      } else {
        // Show language modal
        const modalDiv = document.getElementById('lang-modal');
        if(modalDiv){
          modalDiv.style.display = 'flex';
          document.querySelectorAll('.lang-btn').forEach(btn => {
            btn.addEventListener('click', () => {
              const chosenLang = btn.dataset.lang;
              if (!translations[chosenLang]) {
                alert('This language is not supported yet.');
                return;
              }
              localStorage.setItem('preferredLanguage', chosenLang);
              modalDiv.style.display = 'none';
              applyLanguage(chosenLang);
            });
          });
        }
      }
    });
  </script>
</body>
</html>
