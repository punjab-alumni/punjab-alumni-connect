<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dashboard - Punjab Alumni Connect</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    .card {
      background: rgba(36, 147, 255, 0.07);
      padding: 1rem;
      border-radius: 10px;
      margin-bottom: 1.5rem;
      color: #eaf6ff;
      transition: background 0.3s ease;
    }
    .card:hover {
      background: rgba(36, 147, 255, 0.14);
    }
    .card ul {
      list-style-type: none;
      padding-left: 0;
    }
    .card ul li {
      padding: 0.3rem 0;
    }
    nav ul.nav-list {
      list-style: none;
      display: flex;
      gap: 12px;
      padding: 0;
      background: transparent !important;
      border-radius: 8px;
      margin: 0 0 1rem;
      align-items: center;
    }
    nav ul.nav-list li a,
    nav ul.nav-list li button {
      color: #2493ff;
      text-decoration: none;
      padding: 0.5rem 1rem;
      display: block;
      border-radius: 6px;
      background: none;
      border: none;
      cursor: pointer;
      font-size: 1rem;
      font-family: inherit;
    }
    nav ul.nav-list li a.active,
    nav ul.nav-list li a:hover,
    nav ul.nav-list li button:hover {
      background: #2493ff;
      color: #101927;
      font-weight: bold;
    }
    /* Container fix for text visibility */
    .container {
      background-color: #121F33;
      border-radius: 1em;
      padding: 2rem;
      max-width: 1200px;
      margin: 2rem auto;
      color: #eaf6ff;
    }
    /* Header styling for consistent black-blue background */
    header {
      display: flex;
      align-items: center;
      padding: 10px 20px;
      background-color: #101927;
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    h1, p, ul {
      color: #eaf6ff;
    }
    a {
      color: #76beff;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <header>
    <img src="logo.jpg" alt="Punjab Alumni Connect Logo" style="height: 60px; margin-right: 20px;" />
    <nav style="flex-grow: 1;">
      <ul class="nav-list">
        <li><a href="index.html" id="nav-home">Home</a></li>
        <li><a href="dashboard.html" id="nav-dashboard" class="active">Dashboard</a></li>
        <li><a href="alumni.html" id="nav-alumni">Alumni</a></li>
        <li><a href="events.html" id="nav-events">Events</a></li>
        <li><a href="jobs.html" id="nav-jobs">Jobs</a></li>
        <li><a href="mentorship.html" id="nav-mentorship">Mentorship</a></li>
        <li><a href="collaborative.html" id="nav-collaborative">Collaborative Spaces</a></li>
        <li><a href="donations.html" id="nav-donations">Donations</a></li>
        <li><a href="settings.html" id="nav-settings">Settings</a></li>
        <li><button id="logout-btn">Logout</button></li>
      </ul>
    </nav>
  </header>
  <main class="container dashboard-content">
    <section>
      <h1 id="institution-name">Institution Dashboard</h1>
      <p id="institution-info">Loading institution details...</p>
      <div id="stats-cards"></div>
      <div id="news-cards"></div>
      <div id="quick-links"></div>
    </section>
  </main>
  
  <!-- Language Selection Modal -->
  <div id="lang-modal" role="dialog" aria-modal="true" tabindex="-1" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.6);z-index:10000;display:flex;justify-content:center;align-items:center;font-family:'Inter',sans-serif;">
    <div style="background:#121F33;padding:2rem;border-radius:15px;max-width:320px;width:90%;text-align:center;color:#eaf6ff;box-shadow:0 0 20px rgba(36,147,255,0.4);">
      <h2 style="margin-bottom:1rem;color:#5dd1ff;">Select your preferred language</h2>
      <button class="lang-btn" data-lang="en" style="margin:0.4rem;padding:0.7rem 1.2rem;background:#2493ff;color:#101827;border:none;border-radius:8px;cursor:pointer;">English</button>
      <button class="lang-btn" data-lang="pa" style="margin:0.4rem;padding:0.7rem 1.2rem;background:#2493ff;color:#101827;border:none;border-radius:8px;cursor:pointer;">ਪੰਜਾਬੀ</button>
      <button class="lang-btn" data-lang="hi" style="margin:0.4rem;padding:0.7rem 1.2rem;background:#2493ff;color:#101827;border:none;border-radius:8px;cursor:pointer;">हिंदी</button>
    </div>
  </div>

  <script>
    const institutionsInfo = {
      "Punjab University": {
        location: "Chandigarh",
        established: 1882,
        students: 15000,
        alumni: 50000,
        website: "https://www.pu.ac.in",
        stats: {
          alumniNetwork: "50,000+",
          activeInstitutions: 12,
          connectionsMade: "25,000+",
          jobPlacements: "3,200+",
          mentorshipSessions: "5,600+"
        },
        news: [
          "Upcoming Tech Summit - Jan 15, 2026",
          "Virtual Career Fair - Feb 20, 2026",
          "Alumni Reunion - March 30, 2026"
        ]
      },
      "Thapar University": {
        location: "Patiala",
        established: 1956,
        students: 8000,
        alumni: 35000,
        website: "https://www.thapar.edu",
        stats: {
          alumniNetwork: "35,000+",
          activeInstitutions: 5,
          connectionsMade: "10,000+",
          jobPlacements: "1,200+",
          mentorshipSessions: "2,500+"
        },
        news: [
          "Career Fair 2026 - Feb 20, 2026",
          "Entrepreneurship Workshop - Apr 10, 2026"
        ]
      },
      "Lovely Professional University": {
        location: "Phagwara",
        established: 2005,
        students: 30000,
        alumni: 45000,
        website: "https://www.lpu.co.in",
        stats: {
          alumniNetwork: "45,000+",
          activeInstitutions: 7,
          connectionsMade: "15,000+",
          jobPlacements: "2,800+",
          mentorshipSessions: "3,500+"
        },
        news: [
          "Virtual Global Alumni Meet - Jan 30, 2026",
          "Student Innovation Day - Mar 15, 2026"
        ]
      },
      "Punjab Engineering College": {
        location: "Chandigarh",
        established: 1921,
        students: 3000,
        alumni: 25000,
        website: "http://www.pec.edu.in",
        stats: {
          alumniNetwork: "25,000+",
          activeInstitutions: 3,
          connectionsMade: "5,000+",
          jobPlacements: "1,100+",
          mentorshipSessions: "2,000+"
        },
        news: [
          "Engineering Workshop - Apr 5, 2026",
          "Alumni Meet - Dec 10, 2025"
        ]
      },
      "Guru Nanak Dev University": {
        location: "Amritsar",
        established: 1969,
        students: 25000,
        alumni: 40000,
        website: "http://www.gndu.ac.in",
        stats: {
          alumniNetwork: "40,000+",
          activeInstitutions: 6,
          connectionsMade: "12,000+",
          jobPlacements: "2,500+",
          mentorshipSessions: "4,000+"
        },
        news: [
          "Annual Cultural Fest - Jan 20, 2026",
          "Research Conference - Feb 15, 2026"
        ]
      },
      "Chandigarh University": {
        location: "Chandigarh",
        established: 2012,
        students: 28000,
        alumni: 35000,
        website: "https://www.chandigarhuniversity.ac.in",
        stats: {
          alumniNetwork: "35,000+",
          activeInstitutions: 4,
          connectionsMade: "8,000+",
          jobPlacements: "1,800+",
          mentorshipSessions: "3,200+"
        },
        news: [
          "Innovation Meetup - Mar 25, 2026",
          "Spring Fest - Apr 10, 2026"
        ]
      },
      "Chitkara University": {
        location: "Rajpura",
        established: 2010,
        students: 15000,
        alumni: 20000,
        website: "https://www.chitkara.edu.in",
        stats: {
          alumniNetwork: "20,000+",
          activeInstitutions: 5,
          connectionsMade: "7,000+",
          jobPlacements: "1,500+",
          mentorshipSessions: "2,800+"
        },
        news: [
          "Alumni Meet - Mar 15, 2026",
          "Blood Donation Camp - Apr 20, 2026"
        ]
      }
    };

    function displayDashboard(institution) {
      const info = institutionsInfo[institution];
      const institutionNameEl = document.getElementById('institution-name');
      const institutionInfoEl = document.getElementById('institution-info');
      const statsCardsEl = document.getElementById('stats-cards');
      const newsCardsEl = document.getElementById('news-cards');
      const quickLinksEl = document.getElementById('quick-links');
      institutionNameEl.textContent = institution + " Dashboard";
      if (!info) {
        institutionInfoEl.textContent = "Information not available for selected institution.";
        statsCardsEl.innerHTML = "";
        newsCardsEl.innerHTML = "";
        quickLinksEl.innerHTML = "";
        return;
      }
      institutionInfoEl.innerHTML = `
        <p><strong>Location:</strong> ${info.location}</p>
        <p><strong>Established:</strong> ${info.established}</p>
        <p><strong>Students:</strong> ${info.students.toLocaleString()}</p>
        <p><strong>Alumni:</strong> ${info.alumni.toLocaleString()}+</p>
        <p><strong>Website:</strong> <a href="${info.website}" target="_blank" rel="noopener">${info.website}</a></p>`;
      statsCardsEl.innerHTML = `
        <div class="card">
          <h3>Platform Statistics</h3>
          <ul>
            <li><strong>Alumni Network:</strong> ${info.stats.alumniNetwork}</li>
            <li><strong>Active Institutions:</strong> ${info.stats.activeInstitutions}</li>
            <li><strong>Connections Made:</strong> ${info.stats.connectionsMade}</li>
            <li><strong>Job Placements:</strong> ${info.stats.jobPlacements}</li>
            <li><strong>Mentorship Sessions:</strong> ${info.stats.mentorshipSessions}</li>
          </ul>
        </div>`;
      newsCardsEl.innerHTML = `
        <div class="card">
          <h3>Recent News & Events</h3>
          <ul>
            ${info.news.map(item => `<li>${item}</li>`).join("")}
          </ul>
        </div>`;
      quickLinksEl.innerHTML = `
        <div class="card">
          <h3>Quick Links</h3>
          <ul>
            <li><a href="alumni.html">Alumni Directory</a></li>
            <li><a href="jobs.html">Job Opportunities</a></li>
            <li><a href="mentorship.html">Mentorship Program</a></li>
            <li><a href="donations.html">Support & Donations</a></li>
          </ul>
        </div>
      `;
    }

    // Translation dictionary
    const translations = {
      en: {
        'nav-home': 'Home',
        'nav-dashboard': 'Dashboard', 
        'nav-alumni': 'Alumni',
        'nav-events': 'Events',
        'nav-jobs': 'Jobs',
        'nav-mentorship': 'Mentorship',
        'nav-collaborative': 'Collaborative Spaces',
        'nav-donations': 'Donations',
        'nav-settings': 'Settings',
        'institution-name': 'Institution Dashboard',
        'institution-info': 'Loading institution details...'
      },
      pa: {
        'nav-home': 'ਘਰ',
        'nav-dashboard': 'ਡੈਸ਼ਬੋਰਡ',
        'nav-alumni': 'ਸਾਬਕਾ ਵਿਦਿਆਰਥੀ',
        'nav-events': 'ਇਵੈਂਟਸ',
        'nav-jobs': 'ਨੌਕਰੀਆਂ',
        'nav-mentorship': 'ਮਾਰਗਦਰਸ਼ਨ',
        'nav-collaborative': 'ਸਹਿਯੋਗੀ ਸਥਾਨ',
        'nav-donations': 'ਦਾਨ',
        'nav-settings': 'ਸੈਟਿੰਗਜ਼',
        'institution-name': 'ਸੰਸਥਾ ਡੈਸ਼ਬੋਰਡ',
        'institution-info': 'ਚੁਣੇ ਗਈ ਸੰਸਥਾ ਦੇ ਵੇਰਵੇ ਲੋਡ ਕੀਤੇ ਜਾ ਰਹੇ ਹਨ...'
      },
      hi: {
        'nav-home': 'मुख्य पृष्ठ',
        'nav-dashboard': 'डैशबोर्ड',
        'nav-alumni': 'पूर्व छात्र',
        'nav-events': 'कार्यक्रम',
        'nav-jobs': 'नौकरियां',
        'nav-mentorship': 'मार्गदर्शन',
        'nav-collaborative': 'सहयोगी स्थान',
        'nav-donations': 'दान',
        'nav-settings': 'सेटिंग्स',
        'institution-name': 'संस्थान डैशबोर्ड',
        'institution-info': 'चयनित संस्थान का विवरण लोड किया जा रहा है...'
      }
    };

    function applyLanguage(lang) {
      const dict = translations[lang] || {};
      Object.entries(dict).forEach(([id, text]) => {
        const el = document.getElementById(id);
        if (el) el.textContent = text;
      });
    }

    window.addEventListener('DOMContentLoaded', () => {
      // Language selector logic with sessionStorage persistence
      const langModal = document.getElementById('lang-modal');
      const savedLang = sessionStorage.getItem('preferredLanguage');
      if (savedLang && translations[savedLang]) {
        applyLanguage(savedLang);
        langModal.style.display = 'none';
      } else {
        langModal.style.display = 'flex';
      }
      
      document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          const chosenLang = btn.dataset.lang;
          if (!translations[chosenLang]) {
            alert('This language is not supported yet.');
            return;
          }
          sessionStorage.setItem('preferredLanguage', chosenLang);
          applyLanguage(chosenLang);
          langModal.style.display = 'none';
        });
      });

      // Original dashboard logic
      const institution = sessionStorage.getItem('loggedInInstitution');
      const email = sessionStorage.getItem('loggedInEmail');
      const role = sessionStorage.getItem('loggedInRole');
      if (!institution || !email || !role) {
        window.location.href = 'login.html'; // Not logged in, redirect
        return;
      }
      displayDashboard(institution);
      // Update navigation links for session persistence
      document.getElementById('alumni-link').href = 'alumni.html';
      document.getElementById('jobs-link').href = 'jobs.html';
      document.getElementById('events-link').href = 'events.html';
      document.getElementById('mentorship-link').href = 'mentorship.html';
      document.getElementById('donations-link').href = 'donations.html';
      document.getElementById('settings-link').href = 'settings.html';
      // Logout
      document.getElementById('logout-btn').addEventListener('click', () => {
        sessionStorage.clear();
        window.location.href = 'login.html';
      });
    });
  </script>
</body>
</html>
